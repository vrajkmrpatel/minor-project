@startuml

class TicketDistributor {
  ID
}

class Passenger {
  ID
  type
  isFrequentTraveler
}

class Ticket {
  ID
  type
  price
  departureTime
  date
  time
  validFrom
  validTill
  validityDuration
  issuedFrom
  destinationStation
}

class MetroPass {
  ID
  type
  validityDuration
}

class TimeCard {
  ID
  type
  validityDuration
}

class Transaction {
  ID
  status
  amount
}

class DisplayInterface {
  type
}

class PaymentMethod {
  type
}

class CurrencyNote {
  ID
  isOriginal
  value
}

class Error {
  ID
  type
  message
}

class ErrorMessage {
  message
}

class TouchScreen {
  size
}

TicketDistributor *-- Ticket : TicketDistributor issues and manages Tickets; Tickets cannot exist independently without the distributor.
TicketDistributor --> MetroPass : TicketDistributor reads and processes MetroPass information.
TicketDistributor --> TimeCard : TicketDistributor reads and processes TimeCard information.
TicketDistributor *-- Transaction : TicketDistributor initiates and manages Transactions; Transactions are meaningless without the distributor.
TicketDistributor --> PaymentMethod : TicketDistributor processes payments using various PaymentMethods.
TicketDistributor --> CurrencyNote : TicketDistributor handles CurrencyNotes for cash payments.
TicketDistributor *-- DisplayInterface : TicketDistributor uses a DisplayInterface; the interface is part of the distributor and cannot exist independently.
TicketDistributor *-- TouchScreen : TicketDistributor uses a TouchScreen; the touchscreen is part of the distributor and cannot exist independently.
TicketDistributor --> Error : TicketDistributor handles and reports Errors.
TicketDistributor --> ErrorMessage : TicketDistributor displays ErrorMessages.
Passenger --> Ticket : Passenger purchases Tickets.
Passenger --> MetroPass : Passenger may use a MetroPass.
Passenger --> TimeCard : Passenger may use a TimeCard.
Transaction --> PaymentMethod : Transaction uses a PaymentMethod.
Error *-- ErrorMessage : An Error contains an ErrorMessage; the message is part of the error and cannot exist independently.

@enduml